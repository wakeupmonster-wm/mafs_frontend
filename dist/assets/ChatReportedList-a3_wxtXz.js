import{D as m,i as o,A as h,r as p,aS as g,j as e,B as i,C as j}from"./index-Cah9GgNi.js";import{L as c}from"./loader-circle-D_OERo1u.js";import{C as N}from"./clock-BveIEetd.js";import{E as x}from"./eye-Ud1Tzidn.js";const y=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 15h.01",key:"q59x07"}],["path",{d:"M12 7v4",key:"xawao1"}]],f=m("message-square-warning",y);function R(){const l=o(),{queue:a,loading:t,error:n}=h(s=>s.chatManagement||{});return p.useEffect(()=>{l(g())},[l]),e.jsx("div",{className:"min-h-screen bg-gray-50/50 p-4 md:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 bg-red-100 rounded-xl",children:e.jsx(f,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Reported Chats"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Moderate reported chat conversations"})]})]}),e.jsxs(i,{variant:"secondary",className:"bg-red-50 text-red-700 border-red-200",children:[a?.length||0," Pending"]})]}),e.jsxs(j,{className:"border-0 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Match"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Reports"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Reasons"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Last Reported"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[t&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(c,{className:"w-6 h-6 animate-spin text-gray-400"}),e.jsx("span",{className:"text-gray-500",children:"Loading reported chats..."})]})})}),!t&&(a?.length||0)===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No reported chats found"})}),a?.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-medium text-gray-900",children:s._id})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full bg-red-100 text-red-700 text-sm font-semibold",children:s.reportCount})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.reasons?.map((r,d)=>e.jsx(i,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:r},d))})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(N,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s.lastReportedAt?new Date(s.lastReportedAt).toLocaleString():"-"})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("a",{href:`/admin/management/chat/${s._id}`,className:"inline-flex items-center gap-1.5 px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:[e.jsx(x,{className:"w-4 h-4"}),"Review"]})})]},s._id))]})]})}),e.jsxs("div",{className:"md:hidden divide-y divide-gray-100",children:[t&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(c,{className:"w-6 h-6 animate-spin text-gray-400 mx-auto"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Loading reported chats..."})]}),!t&&(a?.length||0)===0&&e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No reported chats found"}),a?.map(s=>e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s._id}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.reportCount," reports"]})]}),e.jsxs("a",{href:`/admin/management/chat/${s._id}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-gray-800",children:[e.jsx(x,{className:"w-3.5 h-3.5"}),"Review"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.reasons?.map((r,d)=>e.jsx(i,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:r},d))})]},s._id))]})]}),n&&e.jsx("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("span",{className:"text-sm text-red-700",children:n})})]})})}export{R as default};
