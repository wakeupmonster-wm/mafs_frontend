import{i as ae,A as te,r as n,aM as Z,aN as xe,aO as he,j as e,C as l,aP as P,E as y,F,B as o,M as pe,S as O,J as ge,ar as R,H as re,K as le,aQ as ie,aR as ue}from"./index-Cah9GgNi.js";import{T as ee}from"./textarea-BdgJi3SO.js";import{S as _,a as V,b as G,c as W,d as f}from"./select-DxUcbfzd.js";import{P as be}from"./headSubhead-C7X6Yce6.js";import{C as A}from"./circle-x-D3br8V_4.js";import{C as B}from"./circle-alert-CnaEjTQV.js";import{S as ne}from"./shield-u_oQ7CN8.js";import{B as H}from"./ban-Ci-rYXMT.js";import{C as z}from"./clock-BveIEetd.js";import{T as Y}from"./triangle-alert-1qeuYxI_.js";import{U as q}from"./user-D1L96pnc.js";import{F as je}from"./file-text-C62tHutv.js";import{I as fe}from"./image-D0QaGE14.js";import{F as $}from"./flag-C5b50tBx.js";import{R as M}from"./reply-D8OrzNJ1.js";import{I as oe}from"./info-CpdJOb3o.js";import{L as Ne}from"./loader-circle-D_OERo1u.js";import{C as ce}from"./chevron-left-IoiNEKJ3.js";import{S as ye}from"./shield-alert-DrSlsao2.js";import{C as ve}from"./chart-column-ZCxNQmdv.js";import{S as we}from"./search-B7fke5-e.js";import{E as se}from"./eye-Ud1Tzidn.js";const J=({message:m="Loading..."})=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-4",children:[e.jsxs("div",{className:"relative w-20 h-20",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-blue-200 rounded-full animate-ping opacity-20"}),e.jsx("div",{className:"absolute inset-2 border-4 border-t-blue-600 border-r-blue-400 border-b-blue-200 border-l-blue-400 rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(ne,{className:"w-8 h-8 text-white animate-pulse"})})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-700 animate-pulse",children:m}),e.jsxs("div",{className:"flex gap-1 justify-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]}),de=({type:m,message:d,onClose:p})=>{n.useEffect(()=>{const x=setTimeout(p,5e3);return()=>clearTimeout(x)},[p]);const N={success:{bg:"bg-emerald-50 border-emerald-400",icon:e.jsx(R,{className:"w-5 h-5 text-emerald-600"}),iconBg:"bg-emerald-100",textColor:"text-emerald-800"},error:{bg:"bg-red-50 border-red-400",icon:e.jsx(A,{className:"w-5 h-5 text-red-600"}),iconBg:"bg-red-100",textColor:"text-red-800"},warning:{bg:"bg-amber-50 border-amber-400",icon:e.jsx(B,{className:"w-5 h-5 text-amber-600"}),iconBg:"bg-amber-100",textColor:"text-amber-800"}},g=N[m]||N.success;return e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 p-4 rounded-xl border-2 shadow-lg ${g.bg} animate-in slide-in-from-top-5 duration-300`,children:[e.jsx("div",{className:`p-2 rounded-lg ${g.iconBg}`,children:g.icon}),e.jsx("span",{className:`text-sm font-semibold ${g.textColor} pr-8`,children:d}),e.jsx("button",{onClick:p,className:"absolute top-2 right-2 p-1 hover:bg-black/5 rounded-full transition-colors",children:e.jsx(A,{className:"w-4 h-4"})})]})};function We(){const m=ae(),{list:d,pagination:p,loading:N,error:g}=te(s=>s.profileReview||{}),[x,t]=n.useState(1),[D,C]=n.useState(""),[k,I]=n.useState("all"),[v,c]=n.useState({open:!1,src:"",title:""}),[S,U]=n.useState(null);n.useEffect(()=>{m(ie({page:x,limit:20})).unwrap().catch(s=>{U({type:"error",message:s?.message||"Failed to fetch reports"})})},[m,x]),console.log("list: ",d);const h=d?.filter(s=>{const L=s.nickname?.toLowerCase().includes(D.toLowerCase()),b=k==="all"||s.status===k;return L&&b}),w=s=>{switch(s){case"new":return"bg-red-100 text-red-700 border-red-300";case"reviewed":return"bg-blue-100 text-blue-700 border-blue-300";case"resolved":return"bg-emerald-100 text-emerald-700 border-emerald-300";case"pending":return"bg-amber-100 text-amber-700 border-amber-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},T=s=>s>=5?"text-red-600 bg-red-100":s>=3?"text-amber-600 bg-amber-100":"text-blue-600 bg-blue-100",u={total:h?.length||0,new:h?.filter(s=>s.status==="new").length||0,pending:h?.filter(s=>s.status==="pending").length||0,resolved:h?.filter(s=>s.status==="resolved").length||0,highPriority:h?.filter(s=>s.reportCount>=5).length||0};return e.jsxs("div",{className:"flex flex-1 flex-col min-h-screen p-2 sm:p-4 bg-gradient-to-br from-gray-50 via-blue-50 to-gray-100 pb-8",children:[S&&e.jsx(de,{type:S.type,message:S.message,onClose:()=>U(null)}),e.jsxs("div",{className:"w-full mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx(be,{heading:"Reported Profiles",icon:e.jsx(ye,{className:"w-9 h-9 text-white"}),color:"bg-gradient-to-br from-red-500 to-red-600",subheading:"Review and manage user safety reports."})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[e.jsx(l,{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Reports"}),e.jsx("p",{className:"text-3xl font-bold text-blue-700",children:u.total})]}),e.jsx(ve,{className:"w-8 h-8 text-blue-500 opacity-50"})]})}),e.jsx(l,{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"New"}),e.jsx("p",{className:"text-3xl font-bold text-red-700",children:u.new})]}),e.jsx(Y,{className:"w-8 h-8 text-red-500 opacity-50"})]})}),e.jsx(l,{className:"p-4 bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-600",children:"Pending"}),e.jsx("p",{className:"text-3xl font-bold text-amber-700",children:u.pending})]}),e.jsx(z,{className:"w-8 h-8 text-amber-500 opacity-50"})]})}),e.jsx(l,{className:"p-4 bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-emerald-600",children:"Resolved"}),e.jsx("p",{className:"text-3xl font-bold text-emerald-700",children:u.resolved})]}),e.jsx(R,{className:"w-8 h-8 text-emerald-500 opacity-50"})]})}),e.jsx(l,{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"High Priority"}),e.jsx("p",{className:"text-3xl font-bold text-purple-700",children:u.highPriority})]}),e.jsx($,{className:"w-8 h-8 text-purple-500 opacity-50"})]})})]}),e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(re,{placeholder:"Search by nickname...",value:D,onChange:s=>C(s.target.value),className:"pl-10 bg-gray-50 border-gray-200 focus:bg-white transition-colors"})]}),e.jsxs(_,{value:k,onValueChange:I,children:[e.jsx(V,{className:"w-full md:w-64",children:e.jsx(G,{})}),e.jsxs(W,{children:[e.jsx(f,{value:"all",children:"All Statuses"}),e.jsx(f,{value:"new",children:"New"}),e.jsx(f,{value:"pending",children:"Pending"}),e.jsx(f,{value:"reviewed",children:"Reviewed"}),e.jsx(f,{value:"resolved",children:"Resolved"})]})]})]})})]}),e.jsx(l,{className:"hidden md:block overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:"User Profile"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Reports"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Last Reported"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Priority"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[N&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsx(J,{message:"Loading reports..."})})}),!N&&h?.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-full mb-4",children:e.jsx(O,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reports found"}),e.jsx("p",{className:"text-gray-500",children:"All profiles are in good standing"})]})})}),h?.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:s?.profilePhoto,alt:s?.nickname,onClick:()=>c({open:!0,src:s?.profilePhoto,title:"User Selfie"}),className:"w-10 h-10 rounded-full object-cover cursor-pointer hover:scale-105 transition"}),e.jsx("div",{children:e.jsx("div",{className:"font-semibold text-gray-900",children:s.nickname})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs(o,{className:T(s.reportCount),children:[e.jsx($,{className:"w-3 h-3 mr-1"}),s.reportCount," report",s.reportCount!==1?"s":""]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-900 font-medium",children:new Date(s.lastReportedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),e.jsx("div",{className:"text-gray-500",children:new Date(s.lastReportedAt).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(o,{className:`${w(s.status)} border font-semibold`,children:s.status.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4",children:s.reportCount>=5?e.jsxs(o,{className:"bg-red-100 text-red-700 border-red-300",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),"HIGH"]}):s.reportCount>=3?e.jsxs(o,{className:"bg-amber-100 text-amber-700 border-amber-300",children:[e.jsx(B,{className:"w-3 h-3 mr-1"}),"MEDIUM"]}):e.jsxs(o,{className:"bg-blue-100 text-blue-700 border-blue-300",children:[e.jsx(oe,{className:"w-3 h-3 mr-1"}),"LOW"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(P,{to:`/admin/management/profile-review/${s.userId}`,children:e.jsxs(y,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Review"]})})})]},s._id))]})]})})}),e.jsxs("div",{className:"md:hidden space-y-4",children:[N&&e.jsx(l,{className:"p-8",children:e.jsx(J,{message:"Loading reports..."})}),!N&&h?.length===0&&e.jsx(l,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-full mb-4",children:e.jsx(O,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reports found"}),e.jsx("p",{className:"text-gray-500",children:"All profiles are in good standing"})]})}),h?.map(s=>e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"relative w-20 h-20 shrink-0",children:e.jsx("img",{src:s?.profilePhoto,alt:s?.nickname,onClick:()=>c({open:!0,src:s?.profilePhoto,title:s.nickname||"User Profile"}),className:"w-full h-full object-cover cursor-pointer rounded-xl"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:s.nickname}),e.jsx(o,{className:`${w(s.status)} border shrink-0`,children:s.status.toUpperCase()})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[e.jsxs(o,{className:T(s.reportCount),children:[e.jsx($,{className:"w-3 h-3 mr-1"}),s.reportCount," reports"]}),e.jsxs(o,{className:"bg-gray-100 text-gray-600",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),new Date(s.lastReportedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})]})]}),e.jsx(P,{to:`/admin/management/profile-review/${s.userId}`,className:"w-full",children:e.jsxs(y,{size:"sm",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Review"]})})]})]})},s._id))]}),e.jsx(l,{className:"mt-6 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",p?.page||x," of"," ",p?.totalPages||1," pages • ",u.total," total reports"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(y,{variant:"outline",size:"sm",disabled:x===1,onClick:()=>t(s=>s-1),className:"gap-2 font-semibold",children:[e.jsx(ce,{className:"w-4 h-4"}),"Previous"]}),e.jsx("div",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-bold",children:x}),e.jsxs(y,{variant:"outline",size:"sm",disabled:x>=(p?.totalPages||1),onClick:()=>t(s=>s+1),className:"gap-2 font-semibold",children:["Next",e.jsx(le,{className:"w-4 h-4"})]})]})]})})]}),v.open&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>c({open:!1,src:"",title:""}),children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full overflow-hidden",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"font-semibold text-lg",children:v.title}),e.jsx("button",{onClick:()=>c({open:!1,src:"",title:""}),className:"text-gray-500 hover:text-black",children:"✕"})]}),e.jsx("img",{src:v.src,alt:v.title,className:"w-full max-h-[70vh] object-contain"})]})}),g&&e.jsx("div",{className:"fixed bottom-4 right-4 max-w-md",children:e.jsx(l,{className:"p-4 bg-red-50 border-red-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-1",children:"Error"}),e.jsx("p",{className:"text-sm text-red-700",children:g})]})]})})})]})}function Ye({userId:m}){const d=ae(),{selected:p,loading:N,error:g,successMessage:x}=te(a=>a.profileReview||{}),[t,D]=n.useState(""),[C,k]=n.useState(""),[I,v]=n.useState(""),[c,S]=n.useState(null),[U,h]=n.useState(!1),[w,T]=n.useState(""),[u,s]=n.useState(""),[L,b]=n.useState(null),[K,Q]=n.useState(!1),E=(a,i)=>{S({url:a,index:i}),h(!0)},X=()=>{h(!1),setTimeout(()=>S(null),300)};n.useEffect(()=>(m&&d(Z(m)).unwrap().catch(a=>{b({type:"error",message:a?.message||"Failed to load profile"})}),()=>d(xe())),[d,m]),n.useEffect(()=>{x&&(b({type:"success",message:x}),setTimeout(()=>{d(he())},3e3))},[x,d]);const me=async a=>{if(a.preventDefault(),!t){b({type:"warning",message:"Please select an action"});return}if((t==="reject"||t==="ban")&&!C.trim()){b({type:"warning",message:"Reason is required for this action"});return}if(t==="suspend"&&(!I||!C.trim())){b({type:"warning",message:"Duration and reason are required for suspension"});return}if(t==="reply"&&(!u||!w.trim())){b({type:"warning",message:"Please select a report and enter a reply message"});return}Q(!0);const i={userId:m,action:t,reason:C.trim()||void 0,replyMessage:t==="reply"?w.trim():void 0,reportId:t==="reply"?u:void 0,suspendDuration:t==="suspend"?Number(I):void 0};try{const j=await d(ue(i)).unwrap();b({type:"success",message:{approve:"Profile approved successfully!",reject:"Profile rejected successfully!",ban:"User banned successfully!",suspend:"User suspended successfully!",resolve:"Report resolved successfully!",reply:"Reply sent to reporter successfully!"}[t]||"Action completed successfully!"}),await Promise.all([d(Z(m)),d(ie({page:1,limit:20}))]),D(""),k(""),v(""),t==="reply"&&(T(""),s(""))}catch(j){b({type:"error",message:j?.message||"Failed to perform action. Please try again."})}finally{Q(!1)}};if(N&&!p)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-gray-100 flex items-center justify-center",children:e.jsx(l,{className:"p-12 max-w-md w-full mx-4",children:e.jsx(J,{message:"Loading profile details..."})})});if(g)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-gray-100 flex items-center justify-center p-4",children:e.jsx(l,{className:"p-8 max-w-2xl w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:e.jsx(A,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Profile"}),e.jsx("p",{className:"text-gray-600 mb-6",children:g==="User or profile not found"?"The profile you're looking for doesn't exist or has been deleted. Please check if the user ID is correct.":g}),e.jsx(P,{to:"/admin/management/profile-review",children:e.jsxs(y,{className:"gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),"Back to Reports"]})})]})})});if(!p)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-gray-100 flex items-center justify-center p-4",children:e.jsx(l,{className:"p-8 max-w-2xl w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-amber-100 rounded-full mb-4",children:e.jsx(B,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profile Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The requested profile could not be found."}),e.jsx(P,{to:"/admin/management/profile-review",children:e.jsxs(y,{className:"gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),"Back to Reports"]})})]})})});const r=p;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-gray-100 pb-8",children:[L&&e.jsx(de,{type:L.type,message:L.message,onClose:()=>b(null)}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(P,{to:"/admin/management/profile-review",children:e.jsxs(y,{variant:"outline",className:"mb-4 gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),"Back to Reports"]})}),e.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg",children:e.jsx(ne,{className:"w-8 h-8 text-white"})}),"Profile Review"]}),e.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Detailed review of reported user profile"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.accountStatus==="banned"&&e.jsxs(o,{className:"bg-red-100 text-red-700 border-red-300 text-base px-4 py-2",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"USER BANNED"]}),r.accountStatus==="suspended"&&e.jsxs(o,{className:"bg-amber-100 text-amber-700 border-amber-300 text-base px-4 py-2",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"USER SUSPENDED"]}),r.reportCount>=5&&e.jsxs(o,{className:"bg-red-100 text-red-700 border-red-300 text-base px-4 py-2",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"HIGH PRIORITY"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(l,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-blue-600"}),"User Information"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4"}),"Contact Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Email Address"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.email})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Phone Number"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.phone||"Not provided"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Profile Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Nickname"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.profile?.nickname||"-"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Gender & Age"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[r.profile?.gender||"-"," • ",r.profile?.age||"-"," ","years"]})]})]})]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5 text-blue-600"}),"Biography"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.profile?.bio||e.jsx("span",{className:"text-gray-400 italic",children:"No bio provided by user"})})]}),r.profile?.photos?.length>0&&e.jsxs(l,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5 text-blue-600"}),"Profile Photos (",r.profile.photos.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.profile.photos.map((a,i)=>e.jsxs("div",{onClick:()=>E(a.url||a,i),className:"relative aspect-square rounded-2xl overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 group shadow-md hover:shadow-xl transition-all cursor-pointer",children:[e.jsx("img",{src:a.url||a,alt:`Photo ${i+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 px-3 py-1 rounded-full text-sm font-semibold",children:["#",i+1]})})]},i))})]}),e.jsxs(l,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-red-600"}),"User Reports (",r.reportCount,")"]}),r.reports?.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(O,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No reports found"})]}),e.jsx("div",{className:"space-y-4",children:r.reports?.map(a=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-gray-300 transition-colors",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[e.jsx(o,{className:"bg-red-100 text-red-700 border-red-300",children:a.reason.toUpperCase()}),a.severity&&e.jsx(o,{className:"bg-amber-100 text-amber-700 border-amber-300",children:a.severity.toUpperCase()}),a.adminReply&&e.jsxs(o,{className:"bg-blue-100 text-blue-700 border-blue-300",children:[e.jsx(M,{className:"w-3 h-3 mr-1"}),"REPLIED"]})]}),a.details&&e.jsx("p",{className:"text-gray-700 mb-3 bg-gray-50 p-3 rounded-lg",children:a.details}),a.adminReply&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-3",children:[e.jsxs("p",{className:"text-sm font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"Admin Response"]}),e.jsx("p",{className:"text-blue-800 mb-2",children:a.adminReply}),a.repliedAt&&e.jsxs("p",{className:"text-xs text-blue-600",children:["Replied on"," ",new Date(a.repliedAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:a.reportedBy?.name||a.reportedBy?.email||a.reportedBy?.phone||"Anonymous User"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(a.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]},a._id))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(l,{className:"p-6 sticky top-6",children:r.status==="resolved"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-full mb-4",children:e.jsx(R,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Resolved"}),e.jsx("p",{className:"text-gray-600",children:"Case Closed"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This report has been resolved by an admin."})]}),r.resolvedAt&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Resolved At"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(r.resolvedAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),r.resolution&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Resolution Notes"}),e.jsx("p",{className:"font-medium text-gray-900",children:r.resolution})]}),e.jsx(P,{to:"/admin/management/profile-review",className:"block",children:e.jsxs(y,{className:"w-full gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),"Back to Reports"]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Take Action"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose an action to resolve this report"}),e.jsxs("form",{onSubmit:me,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 mb-3 block uppercase tracking-wider",children:"Action Type"}),e.jsxs(_,{value:t,onValueChange:D,children:[e.jsx(V,{className:"w-full h-12",children:e.jsx(G,{placeholder:"Select action..."})}),e.jsxs(W,{children:[e.jsx(f,{value:"resolve",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{children:"Approve Profile"})]})}),e.jsx(f,{value:"ban",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{children:"Ban User"})]})}),e.jsx(f,{value:"suspend",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{children:"Suspend User"})]})}),e.jsx(f,{value:"reply",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Reply to Reporter"})]})})]})]})]}),(t==="reject"||t==="ban"||t==="suspend"||t==="resolve")&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 mb-2 block",children:[t==="resolve"?"Resolution Notes":"Reason",t!=="resolve"&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx(ee,{value:C,onChange:a=>k(a.target.value),placeholder:t==="resolve"?"Optional: Add notes about how this was resolved...":"Required: Provide a detailed reason for this action...",className:"resize-none min-h-[100px] font-medium",rows:4})]}),t==="suspend"&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 mb-2 block",children:["Suspend Duration (in hours)",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx(re,{type:"number",min:1,placeholder:"Eg: 24",value:I,onChange:a=>v(a.target.value),required:!0})]}),t==="reply"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 mb-3 block uppercase tracking-wider",children:["Select Report to Reply",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs(_,{value:u,onValueChange:s,children:[e.jsx(V,{className:"w-full h-12",children:e.jsx(G,{placeholder:"Choose a report to reply to..."})}),e.jsx(W,{className:"max-h-80",children:r.reports?.map(a=>e.jsx(f,{value:a._id,className:"py-3",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"bg-red-100 text-red-700 text-xs px-2 py-0.5",children:a.reason}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(a.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short"})})]}),a.details&&e.jsx("span",{className:"text-xs text-gray-600 line-clamp-1",children:a.details}),e.jsxs("span",{className:"text-xs text-gray-500",children:["By:"," ",a.reportedBy?.name||a.reportedBy?.email||"Anonymous"]})]})},a._id))})]}),r.reports?.length===0&&e.jsxs("p",{className:"text-xs text-amber-600 mt-2 flex items-center gap-1",children:[e.jsx(B,{className:"w-3.5 h-3.5"}),"No reports available to reply to"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-bold text-gray-700 mb-3 block uppercase tracking-wider",children:["Your Reply Message",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx(ee,{value:w,onChange:a=>T(a.target.value),placeholder:"Write your response to the reporter here... Be professional and informative.",className:"resize-none min-h-[150px] font-medium",rows:6}),e.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700 flex items-start gap-2",children:[e.jsx(oe,{className:"w-4 h-4 shrink-0 mt-0.5"}),e.jsx("span",{children:"This message will be sent via email to the person who reported this profile. Please be clear, professional, and provide any necessary context about the actions taken."})]})})]})]}),e.jsx(y,{type:"submit",disabled:K||!t||t==="reply"&&(!u||!w.trim()),className:`w-full h-12 font-bold text-base shadow-lg transition-all ${t==="resolve"?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-green-200":t==="ban"?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-red-200":t==="reject"?"bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 shadow-amber-200":t==="reply"?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-blue-200":"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 shadow-emerald-200"}`,children:K?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):t?e.jsxs(e.Fragment,{children:[t==="resolve"&&e.jsx(R,{className:"w-5 h-5 mr-2"}),t==="approve"&&e.jsx(R,{className:"w-5 h-5 mr-2"}),t==="reject"&&e.jsx(A,{className:"w-5 h-5 mr-2"}),t==="ban"&&e.jsx(H,{className:"w-5 h-5 mr-2"}),t==="reply"&&e.jsx(M,{className:"w-5 h-5 mr-2"}),"Confirm"," ",t.charAt(0).toUpperCase()+t.slice(1)]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-5 h-5 mr-2"}),"Select Action First"]})})]})]})})})]})]}),U&&c&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",onClick:X,children:e.jsxs("div",{className:"relative max-w-7xl w-full h-full flex items-center justify-center",children:[e.jsx("button",{onClick:X,className:"absolute top-4 right-4 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors backdrop-blur-md z-10",children:e.jsx(A,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"absolute top-4 left-4 px-4 py-2 bg-white/10 backdrop-blur-md rounded-full z-10",children:e.jsxs("span",{className:"text-white font-semibold",children:["Photo ",c.index+1," of ",r.profile.photos.length]})}),e.jsx("div",{className:"relative max-h-full max-w-full",onClick:a=>a.stopPropagation(),children:e.jsx("img",{src:c.url,alt:`Photo ${c.index+1}`,className:"max-h-[90vh] max-w-full object-contain rounded-2xl shadow-2xl"})}),r.profile.photos.length>1&&e.jsxs(e.Fragment,{children:[c.index>0&&e.jsx("button",{onClick:a=>{a.stopPropagation();const i=c.index-1,j=r.profile.photos[i];E(j.url||j,i)},className:"absolute left-4 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors backdrop-blur-md",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),c.index<r.profile.photos.length-1&&e.jsx("button",{onClick:a=>{a.stopPropagation();const i=c.index+1,j=r.profile.photos[i];E(j.url||j,i)},className:"absolute right-4 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors backdrop-blur-md",children:e.jsx(le,{className:"w-6 h-6 text-white"})})]}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 p-3 bg-white/10 backdrop-blur-md rounded-2xl max-w-full overflow-x-auto",children:r.profile.photos.map((a,i)=>e.jsx("div",{onClick:j=>{j.stopPropagation(),E(a.url||a,i)},className:`w-16 h-16 rounded-lg overflow-hidden cursor-pointer transition-all ${i===c.index?"ring-4 ring-white scale-110":"opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:a.url||a,alt:`Thumbnail ${i+1}`,className:"w-full h-full object-cover"})},i))})]})})]})}export{Ye as ProfileReviewDetailPage,We as ReportedProfilesPage};
