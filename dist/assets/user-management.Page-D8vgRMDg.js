import{c as V,j as e,O as se,Q as te,T as re,U as ne,E as b,P as ie,M as oe,V as le,B as x,s as ce,W as $,Y as K,Z as G,_ as W,r as c,H as de,z as h,a as A,$ as E,a0 as M,a1 as _,a2 as me,a3 as xe,a4 as R,a5 as ue,a6 as pe,a7 as B,i as he,a8 as ge,A as be,t as je,v as ve,a9 as fe,aa as H,N as y,ab as Ne}from"./index-Cah9GgNi.js";import{A as T}from"./arrow-up-down-CNYF-QmJ.js";import{E as we}from"./ellipsis-BTTzz4hy.js";import{u as ye,f as q,I as Se,a as Ce,b as Pe,g as ke,c as Ie}from"./index-BXaOFAvc.js";import{L as Me}from"./label-DJ1n1SI_.js";import{S as Ae,a as ze,b as Re,c as Ue,d as Le}from"./select-DxUcbfzd.js";import{S as Fe,a as De}from"./stats.grid-abFdXFev.js";import{I as Ee,a as S}from"./IconX-D4kkSzeq.js";import{A as U}from"./index-Eb3V4Lej.js";import{I as _e}from"./IconFilter-D5y8yHeQ.js";import{I as Be,a as He,B as Te}from"./ban-user-modal-DNw39Rf8.js";import{P as qe}from"./headSubhead-C7X6Yce6.js";import{I as Oe}from"./IconCrown-BKCnjhBO.js";import{I as Ve}from"./IconAlertTriangle-BfTXxp-v.js";import{I as $e}from"./IconLoader-QBct0fFV.js";import"./index-657d2hlm.js";import"./dialog-CgcypPnB.js";import"./textarea-BdgJi3SO.js";const Ke=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M10 12l4 5",key:"svg-2"}],["path",{d:"M10 17l4 -5",key:"svg-3"}]],Ge=V("outline","file-excel","FileExcel",Ke);const We=[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",key:"svg-0"}]],Je=V("filled","star-filled","StarFilled",We),Qe=[{id:"sno",header:()=>e.jsx("div",{className:"w-10 text-center text-xs",children:"S.no"}),cell:({row:a,table:r})=>{const{pageIndex:n,pageSize:m}=r.getState().pagination,g=n*m+a.index+1;return e.jsx("div",{className:"w-10 text-center font-medium",children:g})},enableSorting:!1,enableHiding:!1},{id:"user",accessorFn:a=>a.profile?.nickname,header:({column:a})=>e.jsxs(b,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),className:"text-xs",children:["User",e.jsx(T,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{const r=a.original,n=r.profile?.nickname||"unknown",m=r?.photos?.[0]?.url||se;return e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsxs(te,{className:"h-8 w-8",children:[e.jsx(re,{src:m,alt:n}),e.jsx(ne,{children:n.charAt(0).toUpperCase()})]}),e.jsx("span",{className:"font-bold text-[11px] truncate",children:n})]})}},{accessorKey:"account.phone",header:"Phone",cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-2 w-full text-[11px] text-foreground",children:[e.jsx(ie,{className:"w-3.5 h-3.5"}),a.original.account?.phone||"â€”"]})},{accessorKey:"account.email",header:"Email",cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-2 text-foreground text-[11px]",children:[e.jsx(oe,{className:"w-3.5 h-3.5"}),a.original.account?.email||"-"]})},{id:"age",header:"Age",cell:({row:a})=>e.jsx("span",{className:"text-xs",children:a.original.profile?.age||"-"})},{id:"gender",header:"Gender",cell:({row:a})=>e.jsx("span",{className:"text-xs",children:a.original.profile.gender||"-"})},{id:"completion",header:"Completion",cell:({row:a})=>e.jsxs("div",{className:"w-[100px] flex flex-col gap-1",children:[e.jsxs("span",{className:"text-[11px] font-base",children:[a.original.profile.totalCompletion,"%"]}),e.jsx(le,{value:a.original.profile.totalCompletion,className:"h-1.5 bg-slate-300 shadow-inner border border-gray-200"})]})},{id:"status",accessorKey:"account.status",header:"Status",filterFn:"includesString",cell:({row:a})=>{const r=a.original.account?.status;return e.jsx("div",{className:"flex gap-1 italic",children:e.jsx(x,{variant:r==="active"?"default":"destructive",className:"capitalize px-1.5",children:r})})}},{id:"premium",accessorKey:"account.isPremium",header:"Plan",cell:({row:a})=>a.original.account?.isPremium?e.jsxs(x,{variant:"premium",className:"gap-1 px-1.5 text-[11px]",children:[e.jsx(Je,{size:10})," PRO"]}):e.jsx(x,{variant:"outline",children:"Free"})},{id:"verification",accessorKey:"verification.status",header:"Verification",cell:({row:a})=>{const r=a.original.verification?.status||"not_started",n={approved:"bg-green-100 text-green-700 hover:bg-green-100",rejected:"bg-red-100 text-red-700 hover:bg-red-100",not_started:"bg-gray-100 text-gray-700 hover:bg-gray-100"};return e.jsx(x,{variant:"outline",className:`capitalize border-none ${n[r]} px-2 text-[10px]`,children:r.replace("_"," ")})}},{id:"city",accessorKey:"location.city",header:"Location",cell:({row:a})=>{const r=a.original.location?.city,n=a.original.location?.country;return!r&&!n?e.jsx("span",{className:"text-muted-foreground italic px-1.5 text-[11px]",children:"Not set"}):e.jsx("span",{className:"capitalize px-1.5 text-[11px]",children:`${r||""}${r&&n?", ":""}${n||""}`})}},{id:"createdAt",accessorKey:"createdAt",header:({column:a})=>e.jsxs(b,{variant:"ghost",size:"sm",className:"-ml-3",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Joined",e.jsx(T,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{const r=new Date(a.getValue("createdAt"));return e.jsx("div",{className:"text-[10px]",children:r.toLocaleDateString()})}},{id:"actions",header:"Actions",cell:({row:a,table:r})=>{const n=a.original,m=ce();return r.options.meta?.onBan,e.jsxs($,{children:[e.jsx(K,{asChild:!0,children:e.jsx(b,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(we,{className:"h-4 w-4"})})}),e.jsx(G,{align:"end",children:e.jsx(W,{onClick:()=>m("./view-profile",{state:{userData:n}}),children:"View Profile"})})]})}}];function Xe({columns:a,data:r,rowCount:n,pagination:m,onPaginationChange:g,searchPlaceholder:j="Search...",globalFilter:v,setGlobalFilter:C,isLoading:f,meta:k,filters:t}){const[N,u]=c.useState([]),o=ye({data:r,columns:a,rowCount:n,onSortingChange:u,manualSorting:!1,manualPagination:!0,manualFiltering:!0,onPaginationChange:g,onGlobalFilterChange:C,getSortedRowModel:Ie(),getCoreRowModel:ke(),state:{sorting:N,pagination:m,globalFilter:v},meta:k}),p=t.accountStatus||t.isPremium!==void 0||t.last24HR!==void 0;return e.jsxs("div",{className:"w-full space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row md:items-center justify-between gap-4 bg-slate-50/50 p-2 rounded-xl",children:[e.jsxs("div",{className:"relative w-3/5 md:w-1/3",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 z-10"}),e.jsx(de,{placeholder:j,className:"pl-9 pr-10 bg-white border-slate-200 h-10 shadow-md focus-visible:ring-brand-aqua rounded-lg",value:v??"",onChange:i=>C(i.target.value)}),v&&e.jsx("button",{onClick:()=>C(""),className:"absolute right-3 top-1/2 -translate-y-1/2 group flex items-center justify-center rounded-full p-1 bg-brand-aqua/30 hover:bg-brand-aqua transition-colors duration-200","aria-label":"Clear search",children:e.jsx(S,{className:"h-4 w-4 text-slate-600 group-hover:text-slate-800 transition-colors"})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 min-w-0 flex-1 ml-4",children:[e.jsx("div",{className:"hidden sm:flex flex-1 items-center justify-end gap-2 overflow-x-hidden min-w-0",children:e.jsxs(U,{mode:"popLayout",children:[t.accountStatus&&e.jsx(h.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,scale:.95},className:"shrink-0",children:e.jsxs(x,{variant:"secondary",className:"p-2 gap-1 bg-indigo-100 border-dashed border-indigo-400 text-indigo-700 shadow-sm whitespace-nowrap",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase opacity-50",children:"Status:"}),e.jsx("span",{className:"capitalize text-xs",children:t.accountStatus}),e.jsx("button",{onClick:()=>t.setAccountStatus(""),className:"ml-1 p-0.5 rounded-full hover:bg-slate-100 transition-colors",children:e.jsx(S,{size:12})})]})},"status-chip"),t.isPremium!==void 0&&e.jsx(h.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,scale:.95},className:"shrink-0",children:e.jsxs(x,{variant:"secondary",className:"p-2 gap-1 bg-amber-100 border-dashed border-amber-400 text-amber-700 shadow-sm whitespace-nowrap",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase opacity-50",children:"Plan:"}),e.jsx("span",{className:"text-xs",children:t.isPremium?"Premium":"Free"}),e.jsx("button",{onClick:()=>t.setIsPremium(void 0),className:"ml-1 p-0.5 rounded-full hover:bg-slate-100 transition-colors",children:e.jsx(S,{size:12})})]})},"premium-chip"),t.last24HR!==void 0&&e.jsx(h.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,scale:.95},className:"shrink-0",children:e.jsxs(x,{variant:"secondary",className:"p-2 gap-1 bg-amber-100 border-dashed border-amber-400 text-amber-700 shadow-sm whitespace-nowrap",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase opacity-50",children:"Login:"}),e.jsx("span",{className:"text-xs",children:"Last 24 Hours"}),e.jsx("button",{onClick:()=>t.setLast24HR(void 0),className:"ml-1 p-0.5 rounded-full hover:bg-slate-100 transition-colors",children:e.jsx(S,{size:12})})]})},"premium-chip")]})}),p&&e.jsx("div",{className:"hidden sm:block w-0.5 h-6 bg-slate-200 shrink-0"}),e.jsx("div",{className:"shrink-0",children:e.jsxs($,{children:[e.jsx(K,{asChild:!0,children:e.jsxs(b,{variant:"outline",className:A("h-10 border-brand-aqua/80 shadow-sm bg-brand-aqua/5 hover:bg-brand-aqua/30 transition-all whitespace-nowrap",p&&"border-brand-aqua ring-1 ring-brand-aqua"),children:[e.jsx(_e,{strokeWidth:2.5,className:A("h-6 w-6",p?"text-brand-aqua":"text-brand-aqua/60")}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Filters"}),p&&e.jsx("span",{className:"ml-2 flex h-5 w-5 items-center justify-center rounded-full bg-brand-aqua text-[10px] text-white font-bold",children:+!!t.accountStatus+ +(t.isPremium!==void 0)})]})}),e.jsxs(G,{align:"end",className:"w-56 p-2 shadow-xl border-slate-200",children:[e.jsx(E,{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Account Status"}),["active","banned","suspended"].map(i=>e.jsx(M,{className:"capitalize",checked:t.accountStatus===i,onCheckedChange:()=>t.setAccountStatus(i),children:i},i)),e.jsx(M,{checked:t.last24HR===!0,onCheckedChange:()=>t.setLast24HR(!0),children:"Last 24 Hours"}),e.jsx(_,{}),e.jsx(E,{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Plan Type"}),e.jsx(M,{checked:t.isPremium===!0,onCheckedChange:()=>t.setIsPremium(!0),children:"Premium Only"}),e.jsx(M,{checked:t.isPremium===!1,onCheckedChange:()=>t.setIsPremium(!1),children:"Free Only"}),p&&e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsx(W,{className:"text-red-600 justify-center font-medium focus:bg-red-50 focus:text-red-700 cursor-pointer",onClick:()=>{t.setAccountStatus(""),t.setIsPremium(void 0)},children:"Clear All Filters"})]})]})]})})]})]}),e.jsx("div",{className:"flex justify-end sm:hidden flex-wrap gap-2 px-1",children:e.jsx(U,{children:p&&e.jsxs(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex flex-wrap items-center gap-2",children:[t.accountStatus&&e.jsxs(x,{variant:"secondary",className:"bg-indigo-50 text-indigo-700 border-indigo-100 py-1",children:["Status:"," ",e.jsx("span",{className:"capitalize ml-1",children:t.accountStatus}),e.jsx("button",{onClick:()=>t.setAccountStatus(""),className:"ml-1",children:e.jsx(S,{size:12})})]}),t.isPremium!==void 0&&e.jsxs(x,{variant:"secondary",className:"bg-amber-50 text-amber-700 border-amber-100 py-1",children:["Plan:"," ",e.jsx("span",{className:"ml-1",children:t.isPremium?"Premium":"Free"}),e.jsx("button",{onClick:()=>t.setIsPremium(void 0),className:"ml-1",children:e.jsx(S,{size:12})})]})]})})})]}),e.jsx("div",{className:"block rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:e.jsxs(me,{children:[e.jsx(xe,{className:"bg-slate-50/50",children:o.getHeaderGroups().map(i=>e.jsx(R,{children:i.headers.map(d=>e.jsx(ue,{className:"text-slate-700 font-semibold h-10 bg-slate-100 text-xs",children:q(d.column.columnDef.header,d.getContext())},d.id))},i.id))}),e.jsx(pe,{className:A(f&&"opacity-50 pointer-events-none transition-opacity"),children:o.getRowModel().rows?.length?o.getRowModel().rows.map(i=>e.jsx(R,{className:"hover:bg-slate-50/50",children:i.getVisibleCells().map(d=>e.jsx(B,{className:"py-3",children:q(d.column.columnDef.cell,d.getContext())},d.id))},i.id)):e.jsx(R,{children:e.jsx(B,{colSpan:a.length,className:"h-64 text-center",children:f?e.jsx(Fe,{text:"Fetching data..."}):e.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-400 space-y-2",children:[e.jsx(Se,{size:48,stroke:1}),e.jsx("p",{className:"text-sm font-medium",children:"No results found for your search"})]})})})})]})}),e.jsxs("div",{className:"flex flex-row items-center justify-between gap-4 py-2 border-t border-slate-100 mt-4 px-5 md:px-0",children:[e.jsxs("div",{className:"text-xs font-medium text-slate-500",children:["Showing ",r.length," of ",n," results"]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"hidden sm:block text-[10px] font-bold text-slate-400 uppercase",children:"Rows"}),e.jsxs(Ae,{value:`${o.getState().pagination.pageSize}`,onValueChange:i=>o.setPageSize(Number(i)),children:[e.jsx(ze,{className:"h-8 w-[70px] text-xs",children:e.jsx(Re,{})}),e.jsx(Ue,{children:[10,20,50].map(i=>e.jsx(Le,{value:`${i}`,children:i},i))})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o.previousPage(),disabled:!o.getCanPreviousPage(),children:e.jsx(Ce,{size:16})}),e.jsxs("div",{className:"text-xs font-semibold px-2",children:[o.getState().pagination.pageIndex+1," /"," ",o.getPageCount()]}),e.jsx(b,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>o.nextPage(),disabled:!o.getCanNextPage(),children:e.jsx(Pe,{size:16})})]})]})]})]})}const O={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};function ga(){const a=he(),r=ge(),{items:n=[],loading:m,pagination:g,exportLoading:j,exportProgress:v}=be(s=>s.users),[C,f]=c.useState(!1),[k,t]=c.useState(null),[N,u]=c.useState({pageIndex:0,pageSize:10}),[o,p]=c.useState(""),[i,d]=c.useState(""),[I,L]=c.useState(void 0),[z,F]=c.useState(void 0),J=c.useMemo(()=>[{label:"Total Members",val:g?.total||0,icon:e.jsx(je,{size:22}),color:"blue",description:"Overall Total Users"},{label:"Active Users",val:n.filter(s=>s.account?.status==="active").length,icon:e.jsx(ve,{size:22}),color:"emerald",description:"Live community"},{label:"Premium Members",val:n.filter(s=>s.account?.isPremium).length,icon:e.jsx(Oe,{size:22}),color:"amber",description:"Pro tier active"},{label:"Banned Users",val:n.filter(s=>s.account?.status==="banned").length,icon:e.jsx(Be,{size:22}),color:"rose",description:"Safety restrictions"},{label:"Suspended",val:n.filter(s=>s.account?.status==="suspended").length,icon:e.jsx(Ve,{size:22}),color:"orange",description:"Under review"}],[n,g?.total]),Q=async()=>{try{const l=await a(H({search:o,accountStatus:i,isPremium:I}));if(H.fulfilled.match(l)){const w=l.payload;if(!w){y.error("No data received from server");return}const ae=new Blob([w],{type:"text/csv;charset=utf-8;"}),D=window.URL.createObjectURL(ae),P=document.createElement("a");P.href=D,P.setAttribute("download",`MAFS_Users_${Date.now()}.csv`),document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(D),y.success("Export completed successfully")}else{const w=l.payload||l.error?.message||"Export failed";y.error(w)}}catch(s){console.error("Export Error:",s),y.error("An unexpected error occurred during export")}};c.useEffect(()=>{const s=r?.state;s&&(u(l=>({...l,pageIndex:0})),s==="Restricted"?d("banned"):s==="Active"?F(!0):s==="Revenue"&&L(!0))},[r?.state]),c.useEffect(()=>{const s=setTimeout(()=>{a(fe({page:N.pageIndex+1,limit:N.pageSize,search:o,accountStatus:i,isPremium:I,last24Hours:z}))},500);return()=>clearTimeout(s)},[a,N,o,i,I,z]);const X=s=>{t(s),f(!0)},Y=async(s,l)=>{try{await a(Ne({userId:k?._id,category:s,reason:l})).unwrap(),y.success("User has been restricted"),f(!1)}catch(w){y.error(w||"Action failed")}},Z={blue:"from-blue-500/40 to-blue-600/5 text-blue-600 border-blue-100",emerald:"from-emerald-500/40 to-emerald-600/5 text-emerald-600 border-emerald-100",amber:"from-amber-500/40 to-amber-600/5 text-amber-600 border-amber-100",rose:"from-rose-500/40 to-rose-600/5 text-rose-600 border-rose-100",orange:"from-orange-500/40 to-orange-600/5 text-orange-600 border-orange-100"},ee={blue:"from-blue-300/20 via-blue-500/10 to-transparent text-blue-600 border-blue-200 hover:border-blue-400",emerald:"from-emerald-300/20 via-emerald-500/10 to-transparent text-emerald-600 border-emerald-200 hover:border-emerald-400",amber:"from-amber-300/20 via-amber-500/10 to-transparent text-amber-600 border-amber-200 hover:border-amber-400",rose:"from-rose-300/20 via-rose-500/10 to-transparent text-rose-600 border-rose-200 hover:border-rose-400",orange:"from-orange-300/20 via-orange-500/10 to-transparent text-orange-600 border-orange-200 hover:border-orange-400"};return e.jsx("div",{className:"flex flex-1 flex-col min-h-screen p-2 sm:p-4 bg-gradient-to-br from-gray-50 via-blue-50 to-gray-100 pb-8",children:e.jsxs(h.div,{className:"@container/main space-y-6",initial:"hidden",animate:"visible",variants:O,children:[e.jsx("header",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex md:items-center justify-between gap-4",children:[e.jsx(qe,{heading:"User Management",subheading:"Monitor community activity and manage member accounts."}),e.jsxs(b,{variant:"outline",onClick:Q,disabled:j,className:A("relative h-11 px-4 shadow-md rounded-lg font-semibold transition-all duration-300","bg-green-200 hover:bg-green-100 border-green-500","text-slate-800 hover:text-green-700 shadow-[0_1px_2px_rgba(0,0,0,0.05)] hover:shadow-[0_8px_20px_-6px_rgba(79,70,229,0.15)]","hover:border-indigo-200 active:scale-[0.98]","disabled:opacity-70 disabled:cursor-not-allowed disabled:active:scale-100 group overflow-hidden"),children:[e.jsx("span",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-50/0 via-indigo-50/0 to-indigo-50/50 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"relative flex items-center justify-center",children:[j?e.jsx(He,{className:"mr-2.5 h-4 w-4 animate-spin text-green-600"}):e.jsx(Ge,{width:0,height:0,className:"mr-2.5 !h-6 !w-6 text-slate-800 group-hover:text-green-500 transition-colors duration-300"}),e.jsx("span",{className:"tracking-tight",children:j?"Preparing CSV...":"Export CSV"})]})]})]})}),e.jsx(h.div,{variants:O,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6",children:e.jsx(De,{stats:J,colorMap:Z,bgMap:ee})}),e.jsx(Xe,{columns:Qe,data:n||[],rowCount:g?.total||0,pagination:N,onPaginationChange:u,globalFilter:o,setGlobalFilter:s=>{p(s),u(l=>({...l,pageIndex:0}))},filters:{accountStatus:i,setAccountStatus:s=>{d(s),u(l=>({...l,pageIndex:0}))},isPremium:I,setIsPremium:s=>{L(s),u(l=>({...l,pageIndex:0}))},last24HR:z,setLast24HR:s=>{F(s),u(l=>({...l,pageIndex:0}))}},isLoading:m,meta:{onBan:s=>X(s)}}),e.jsx(U,{children:j&&e.jsx(h.div,{initial:{opacity:0,x:50,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:20,scale:.95},className:"fixed bottom-8 right-8 z-[100]",children:e.jsxs("div",{className:"bg-slate-900 text-white p-5 rounded-2xl shadow-2xl border border-slate-800 w-72 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"animate-spin h-4 w-4 text-indigo-400"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Exporting Data"})]}),e.jsxs("span",{className:"text-xs font-mono text-indigo-400",children:[v,"%"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:e.jsx(h.div,{initial:{width:0},animate:{width:`${v}%`},className:"h-full bg-indigo-500"})})]})})}),e.jsx(Te,{isOpen:C,onClose:()=>f(!1),onConfirm:Y,userName:k?.profile?.nickname||"User"})]})})}export{ga as default};
