import{i as S,A as T,r as x,j as e,C as p,M as E,H as i,z as n,E as B,ar as P,bf as L,bg as k,bh as M,bi as A}from"./index-Cah9GgNi.js";import{T as h}from"./textarea-BdgJi3SO.js";import{S as u,a as g,b,c as j,d as l}from"./select-DxUcbfzd.js";import{P as q}from"./headSubhead-C7X6Yce6.js";import{B as z}from"./bell-CNR_ZF-1.js";import{S as D}from"./send-wUGRbl-K.js";import{C as f}from"./clock-BveIEetd.js";import{C as H}from"./crown-4cfT-ZjR.js";import{E as _}from"./eye-Ud1Tzidn.js";import{A as I}from"./index-Eb3V4Lej.js";import{C as V}from"./circle-alert-CnaEjTQV.js";function Z(){const c=S(),{loading:N,successMessage:r,error:o}=T(s=>s.notificationManagement),[y,F]=x.useState(!1),[a,v]=x.useState({notificationType:"broadcast",target:"all_users",campaignName:"",title:"",message:"",cta:"",daysBeforeExpiry:"",emailSubject:"",emailBody:""}),t=(s,m)=>v(C=>({...C,[s]:m})),d=N||y,w=s=>{if(s.preventDefault(),!a.campaignName||!a.title||!a.message)return;c({broadcast:()=>A({...a}),premium:()=>M({...a}),expiry:()=>k({...a,daysBeforeExpiry:Number(a.daysBeforeExpiry)})}[a.notificationType]()),setTimeout(()=>c(L()),4e3)};return e.jsx("div",{className:"flex flex-1 flex-col min-h-screen p-4 bg-gradient-to-br from-gray-50 via-blue-50 to-gray-100 pb-8",children:e.jsxs("div",{className:"w-full mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[e.jsx("header",{className:"flex items-center gap-4 bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:e.jsx(q,{heading:"Campaign Manager",icon:e.jsx(z,{className:"w-9 h-9 text-white animate-pulse"}),color:"bg-brand-aqua shadow-brand-aqua/30",subheading:"Design and deploy multi-channel engagement."})}),e.jsx(p,{className:"p-6 border-slate-200 shadow-md",children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Campaign Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 ml-1",children:"Channel Type"}),e.jsxs(u,{value:a.notificationType,onValueChange:s=>t("notificationType",s),children:[e.jsx(g,{className:"bg-slate-50",children:e.jsx(b,{})}),e.jsxs(j,{children:[e.jsx(l,{value:"broadcast",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{size:14})," Push: Broadcast"]})}),e.jsx(l,{value:"expiry",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{size:14})," Push: Expiry"]})}),e.jsx(l,{value:"premium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{size:14})," Push: Premium"]})}),e.jsx(l,{value:"email",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{size:14})," Email Campaign"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 ml-1",children:"Target Audience"}),e.jsxs(u,{value:a.target,disabled:a.notificationType==="premium",onValueChange:s=>t("target",s),children:[e.jsx(g,{className:"bg-slate-50",children:e.jsx(b,{})}),e.jsxs(j,{children:[e.jsx(l,{value:"all_users",children:"All Community"}),e.jsx(l,{value:"free_users",children:"Free Tier Only"}),e.jsx(l,{value:"premium_users",children:"Premium Tier Only"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 ml-1",children:"Internal Reference"}),e.jsx(i,{placeholder:"Internal Campaign Name (e.g., Valentines_2026)",value:a.campaignName,onChange:s=>t("campaignName",s.target.value)})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:"Creative Content"}),a.notificationType==="email"?e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[e.jsx(i,{placeholder:"Email Subject Line",className:"font-semibold",value:a.emailSubject,onChange:s=>t("emailSubject",s.target.value)}),e.jsx(h,{rows:8,placeholder:"Write your email body (HTML supported)...",value:a.emailBody,onChange:s=>t("emailBody",s.target.value)})]}):e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[e.jsx(i,{placeholder:"Notification Title",className:"font-semibold",value:a.title,onChange:s=>t("title",s.target.value)}),e.jsx(h,{rows:4,placeholder:"Push message content...",value:a.message,onChange:s=>t("message",s.target.value)}),e.jsx(i,{placeholder:"Action Link (Optional)",value:a.cta,onChange:s=>t("cta",s.target.value)}),a.notificationType==="expiry"&&e.jsx(i,{type:"number",placeholder:"Days before expiry",value:a.daysBeforeExpiry,onChange:s=>t("daysBeforeExpiry",s.target.value)})]})]}),e.jsx(B,{className:"w-full border border-brand-aqua text-gray-500 bg-brand-aqua/20 hover:bg-brand-aqua/50 hover:text-gray-700 h-12 text-base font-semibold shadow-lg shadow-slate-300",disabled:d,children:d?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"animate-spin"})," Deploying..."]}):"Launch Campaign"})]})})]}),e.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[e.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-400 flex items-center gap-2",children:[e.jsx(_,{size:16})," Live Preview"]}),a.notificationType==="email"?e.jsxs(p,{className:"p-0 overflow-hidden border-slate-200 shadow-lg min-h-[400px]",children:[e.jsxs("div",{className:"bg-slate-100 p-3 border-b flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"text-xs text-slate-400",children:["Subject:"," ",e.jsx("span",{className:"text-slate-900 font-medium",children:a.emailSubject||"(No Subject)"})]}),e.jsx("div",{className:"border-t pt-4 text-sm text-slate-600 whitespace-pre-wrap",children:a.emailBody||"Email content will appear here..."})]})]}):e.jsxs("div",{className:"relative mx-auto w-[280px] h-[580px] bg-slate-900 rounded-[3rem] border-[8px] border-slate-800 shadow-2xl p-4",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-2xl"}),e.jsx("div",{className:"mt-20",children:e.jsxs(n.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-white/90 backdrop-blur p-4 rounded-2xl shadow-lg border border-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-5 h-5 bg-brand-aqua rounded flex items-center justify-center text-[10px] text-white",children:"M"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"MatchAtFirstSwipe"}),e.jsx("span",{className:"text-[10px] text-slate-400 ml-auto",children:"Now"})]}),e.jsx("h4",{className:"text-sm font-bold text-slate-900",children:a.title||"Headline Here"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:a.message||"Your notification message will be displayed like this on user devices."})]},a.title)})]}),e.jsx(I,{children:(r||o)&&e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:`p-4 rounded-xl flex items-center gap-3 border ${r?"bg-emerald-50 border-emerald-200 text-emerald-800":"bg-rose-50 border-rose-200 text-rose-800"}`,children:[r?e.jsx(P,{className:"text-emerald-500"}):e.jsx(V,{className:"text-rose-500"}),e.jsx("p",{className:"text-sm font-medium",children:r||o})]})})]})]})})}export{Z as default};
