import{D as oe,R as v,bB as pe,r as Pe,j as e,a2 as Le,a3 as Me,a4 as me,a5 as D,a6 as ze,a7 as E,B as Z,i as Ke,A as Fe,cC as Ue,cD as Ge,cE as qe,cF as Ve,C as N,m as w,n as S,o as fe,p as O}from"./index-Cah9GgNi.js";import{c as We,T as He,a as ee,b as te}from"./tabs-B_-IlQY0.js";import{S as Xe,f as he,d as xe,e as Ye,i as ae,L as z,g as Je,h as Qe,m as se,j as ge,G as Ze,k as et,l as tt,n as at,c as Te,t as rt,o as st,p as be,q as nt,r as it,s as Ce,B as Re,X as le,Y as ce,u as ot,v as lt,w as ct,x as dt,R as V,A as ut,C as ke,T as de,a as pt,P as mt,b as ft,y as ht}from"./AreaChart-DPw3i69U.js";import{I as xt}from"./inbox-DEJGmHq1.js";import{C as gt}from"./circle-play-Cxdp-9HA.js";import{C as bt}from"./credit-card-excIgfD4.js";import{T as De}from"./trending-up-CHGBVvFI.js";import{T as vt}from"./triangle-alert-1qeuYxI_.js";import{L as jt}from"./layout-dashboard-FOmRIJ3F.js";import{R as yt}from"./receipt-text-B1uodXbz.js";import{S as At}from"./shield-alert-DrSlsao2.js";const Nt=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],wt=oe("apple",Nt);const St=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ot=oe("arrow-up-right",St);const Pt=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Tt=oe("trending-down",Pt);function I(t){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},I(t)}function ne(){return ne=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ne.apply(this,arguments)}function ve(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function re(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ve(Object(r),!0).forEach(function(s){Ct(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Ct(t,a,r){return a=Rt(a),a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function Rt(t){var a=kt(t,"string");return I(a)=="symbol"?a:a+""}function kt(t,a){if(I(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(I(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function je(t){return typeof t=="string"?parseInt(t,10):t}function Dt(t,a){var r="".concat(a.cx||t.cx),s=Number(r),n="".concat(a.cy||t.cy),i=Number(n);return re(re(re({},a),t),{},{cx:s,cy:i})}function ye(t){return v.createElement(Xe,ne({shapeType:"sector",propTransformer:Dt},t))}var Et=["shape","activeShape","activeIndex","cornerRadius"],_t=["value","background"];function _(t){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_(t)}function U(){return U=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},U.apply(this,arguments)}function Ae(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function c(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Ae(Object(r),!0).forEach(function(s){P(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Ne(t,a){if(t==null)return{};var r=Bt(t,a),s,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)s=i[n],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Bt(t,a){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(a.indexOf(s)>=0)continue;r[s]=t[s]}return r}function $t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function we(t,a){for(var r=0;r<a.length;r++){var s=a[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,_e(s.key),s)}}function It(t,a,r){return a&&we(t.prototype,a),r&&we(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lt(t,a,r){return a=G(a),Mt(t,Ee()?Reflect.construct(a,r||[],G(t).constructor):a.apply(t,r))}function Mt(t,a){if(a&&(_(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zt(t)}function zt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ee=function(){return!!t})()}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G(t)}function Kt(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&ie(t,a)}function ie(t,a){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},ie(t,a)}function P(t,a,r){return a=_e(a),a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function _e(t){var a=Ft(t,"string");return _(a)=="symbol"?a:a+""}function Ft(t,a){if(_(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,a);if(_(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L=(function(t){function a(){var r;$t(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return r=Lt(this,a,[].concat(n)),P(r,"state",{isAnimationFinished:!1}),P(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ge(o)&&o()}),P(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ge(o)&&o()}),r}return Kt(a,t),It(a,[{key:"getDeltaAngle",value:function(){var s=this.props,n=s.startAngle,i=s.endAngle,o=se(i-n),l=Math.min(Math.abs(i-n),360);return o*l}},{key:"renderSectorsStatically",value:function(s){var n=this,i=this.props,o=i.shape,l=i.activeShape,p=i.activeIndex,d=i.cornerRadius,u=Ne(i,Et),h=he(u,!1);return s.map(function(j,m){var b=m===p,f=c(c(c(c({},h),{},{cornerRadius:je(d)},j),xe(n.props,j,m)),{},{className:"recharts-radial-bar-sector ".concat(j.className),forceCornerRadius:u.forceCornerRadius,cornerIsExternal:u.cornerIsExternal,isActive:b,option:b?l:o});return v.createElement(ye,U({},f,{key:"sector-".concat(m)}))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,n=this.props,i=n.data,o=n.isAnimationActive,l=n.animationBegin,p=n.animationDuration,d=n.animationEasing,u=n.animationId,h=this.state.prevData;return v.createElement(Ye,{begin:l,duration:p,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radialBar-".concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var m=j.t,b=i.map(function(f,B){var T=h&&h[B];if(T){var W=ae(T.startAngle,f.startAngle),g=ae(T.endAngle,f.endAngle);return c(c({},f),{},{startAngle:W(m),endAngle:g(m)})}var M=f.endAngle,H=f.startAngle,X=ae(H,M);return c(c({},f),{},{endAngle:X(m)})});return v.createElement(z,null,s.renderSectorsStatically(b))})}},{key:"renderSectors",value:function(){var s=this.props,n=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&n&&n.length&&(!o||!Je(o,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"renderBackground",value:function(s){var n=this,i=this.props.cornerRadius,o=he(this.props.background,!1);return s.map(function(l,p){l.value;var d=l.background,u=Ne(l,_t);if(!d)return null;var h=c(c(c(c(c({cornerRadius:je(i)},u),{},{fill:"#eee"},d),o),xe(n.props,l,p)),{},{index:p,className:pe("recharts-radial-bar-background-sector",o?.className),option:d,isActive:!1});return v.createElement(ye,U({},h,{key:"sector-".concat(p)}))})}},{key:"render",value:function(){var s=this.props,n=s.hide,i=s.data,o=s.className,l=s.background,p=s.isAnimationActive;if(n||!i||!i.length)return null;var d=this.state.isAnimationFinished,u=pe("recharts-area",o);return v.createElement(z,{className:u},l&&v.createElement(z,{className:"recharts-radial-bar-background"},this.renderBackground(i)),v.createElement(z,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!p||d)&&Qe.renderCallByParent(c({},this.props),i))}}],[{key:"getDerivedStateFromProps",value:function(s,n){return s.animationId!==n.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:n.curData}:s.data!==n.curData?{curData:s.data}:null}}])})(Pe.PureComponent);P(L,"displayName","RadialBar");P(L,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!Ze.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});P(L,"getComposedData",function(t){var a=t.item,r=t.props,s=t.radiusAxis,n=t.radiusAxisTicks,i=t.angleAxis,o=t.angleAxisTicks,l=t.displayedData,p=t.dataKey,d=t.stackedData,u=t.barPosition,h=t.bandSize,j=t.dataStartIndex,m=et(u,a);if(!m)return null;var b=i.cx,f=i.cy,B=r.layout,T=a.props,W=T.children,g=T.minPointSize,M=B==="radial"?i:s,H=d?M.scale.domain():null,X=tt({numericAxis:M}),Y=at(W,Te),Be=l.map(function(C,$){var x,y,A,R,k,ue;if(d?x=rt(d[j+$],H):(x=st(C,p),Array.isArray(x)||(x=[X,x])),B==="radial"){y=be({axis:s,ticks:n,bandSize:h,offset:m.offset,entry:C,index:$}),k=i.scale(x[1]),R=i.scale(x[0]),A=y+m.size;var J=k-R;if(Math.abs(g)>0&&Math.abs(J)<Math.abs(g)){var $e=se(J||g)*(Math.abs(g)-Math.abs(J));k+=$e}ue={background:{cx:b,cy:f,innerRadius:y,outerRadius:A,startAngle:r.startAngle,endAngle:r.endAngle}}}else{y=s.scale(x[0]),A=s.scale(x[1]),R=be({axis:i,ticks:o,bandSize:h,offset:m.offset,entry:C,index:$}),k=R+m.size;var Q=A-y;if(Math.abs(g)>0&&Math.abs(Q)<Math.abs(g)){var Ie=se(Q||g)*(Math.abs(g)-Math.abs(Q));A+=Ie}}return c(c(c(c({},C),ue),{},{payload:C,value:d?x:x[1],cx:b,cy:f,innerRadius:y,outerRadius:A,startAngle:R,endAngle:k},Y&&Y[$]&&Y[$].props),{},{tooltipPayload:[nt(a,C)],tooltipPosition:it(b,f,(y+A)/2,(R+k)/2)})});return{data:Be,layout:B}});var Ut=Ce({chartName:"BarChart",GraphicalChild:Re,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:le},{axisType:"yAxis",AxisComp:ce}],formatAxisMap:ot}),Gt=Ce({chartName:"RadialBarChart",GraphicalChild:L,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:lt},{axisType:"radiusAxis",AxisComp:ct}],formatAxisMap:dt,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Se({data:t}){return e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(ut,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),e.jsx(ke,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),e.jsx(le,{dataKey:"_id",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),e.jsx(ce,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),e.jsx(de,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),e.jsx(pt,{type:"monotone",dataKey:"revenue",stroke:"#6366f1",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)"})]})})}function q({title:t,description:a}){return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-12 text-center animate-in fade-in duration-500",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-slate-50",children:e.jsx(xt,{className:"h-10 w-10 text-slate-300"})}),e.jsx("h3",{className:"mt-4 text-lg font-semibold text-slate-900",children:t}),e.jsx("p",{className:"mt-2 text-sm text-slate-500 max-w-[250px] mx-auto",children:a})]})}const Oe=["#6366f1","#06b6d4","#f59e0b","#10b981"];function qt({data:t}){return!t||t.length===0?e.jsx(q,{title:"No Data",description:"No platform distribution available."}):e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(mt,{children:[e.jsx(ft,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"revenue",nameKey:"_id",children:t.map((a,r)=>e.jsx(Te,{fill:Oe[r%Oe.length],stroke:"none"},`cell-${r}`))}),e.jsx(de,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),e.jsx(ht,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})}const Vt=({active:t,payload:a,label:r})=>!t||!a?.length?null:e.jsxs("div",{className:"glass-card p-3 border border-border/50 shadow-xl",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground capitalize",children:r}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",a[0].value.toFixed(2)," · ",a[0].payload.count," subs"]})]});function Wt({data:t}){if(!t||t.length===0)return e.jsx(q,{title:"No Data",description:"No plan performance data found."});const a=(t||[]).map(r=>({...r,plan:r._id.charAt(0).toUpperCase()+r._id.slice(1)}));return e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(Ut,{data:a,margin:{top:5,right:10,left:0,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"barGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"hsl(262, 60%, 60%)",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"hsl(262, 60%, 60%)",stopOpacity:.4})]})}),e.jsx(ke,{strokeDasharray:"3 3",stroke:"hsl(222, 20%, 16%)"}),e.jsx(le,{dataKey:"plan",tick:{fill:"hsl(215, 20%, 55%)",fontSize:12},axisLine:{stroke:"hsl(222, 20%, 16%)"},tickLine:!1}),e.jsx(ce,{tick:{fill:"hsl(215, 20%, 55%)",fontSize:12},axisLine:!1,tickLine:!1,tickFormatter:r=>`$${r}`}),e.jsx(de,{content:e.jsx(Vt,{})}),e.jsx(Re,{dataKey:"revenue",fill:"url(#barGrad)",radius:[6,6,0,0],maxBarSize:50})]})})}function Ht({data:t}){return e.jsx("div",{className:"rounded-md border bg-white",children:e.jsxs(Le,{children:[e.jsx(Me,{className:"bg-slate-50",children:e.jsxs(me,{children:[e.jsx(D,{className:"w-[150px]",children:"Transaction ID"}),e.jsx(D,{children:"User Information"}),e.jsx(D,{children:"Platform"}),e.jsx(D,{children:"Amount"}),e.jsx(D,{children:"Event"}),e.jsx(D,{className:"text-right",children:"Date"})]})}),e.jsx(ze,{children:t?.map(a=>e.jsxs(me,{className:"hover:bg-slate-50/50",children:[e.jsx(E,{className:"font-mono text-xs text-indigo-600",children:a.transactionId}),e.jsx(E,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:a.userId?.email}),e.jsx("span",{className:"text-xs text-slate-400",children:a.userId?.phone})]})}),e.jsx(E,{children:a.platform==="ios"?e.jsxs(Z,{variant:"outline",className:"flex w-fit items-center gap-1 border-slate-300",children:[e.jsx(wt,{className:"w-3 h-3"})," iOS"]}):e.jsxs(Z,{variant:"outline",className:"flex w-fit items-center gap-1",children:[e.jsx(gt,{className:"w-3 h-3"})," Android"]})}),e.jsx(E,{className:"font-semibold",children:new Intl.NumberFormat("en-US",{style:"currency",currency:a.currency}).format(a.amount)}),e.jsx(E,{children:e.jsx(Z,{className:a.eventType==="PURCHASE"?"bg-emerald-100 text-emerald-700 hover:bg-emerald-100 border-none":"bg-blue-100 text-blue-700",children:a.eventType})}),e.jsx(E,{className:"text-right text-xs text-slate-500 font-medium",children:new Date(a.occurredAt).toLocaleDateString()})]},a._id))})]})})}function K({title:t,total:a=0,maxValue:r,startAngle:s,color:n="hsl(172, 66%, 50%)"}){const i=r||Math.max(a*1.5,1),l=[{value:Math.min(a/i*100,100),fill:n}];return e.jsxs("div",{className:"border border-brand-aqua/40 shadow-lg rounded-2xl p-4 flex flex-col items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider mb-2",children:t}),e.jsxs("div",{className:"w-36 h-36 relative",children:[e.jsx(V,{width:"100%",height:"100%",children:e.jsx(Gt,{cx:"50%",cy:"50%",innerRadius:"70%",outerRadius:"100%",startAngle:s,endAngle:-45,data:l,barSize:10,children:e.jsx(L,{dataKey:"value",cornerRadius:5,background:{fill:"hsl(0 100% 65%)"}})})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xl font-bold text-foreground",children:["$",a.toFixed(2)]})})]})]})}function ia(){const t=Ke(),{revenueAnalytic:a,riskUsers:r,cancelAnalytics:s,allTransactions:n,loading:i}=Fe(h=>h.subscription);Pe.useEffect(()=>{t(Ue()),t(Ge()),t(qe()),t(Ve())},[t]);const{revenue:o,daily:l,byPlan:p,byPlatform:d,period:u}=a;return e.jsxs("div",{className:"flex flex-col gap-6 p-4 min-h-screen",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Subscription Insights"}),e.jsxs("p",{className:"text-slate-500 text-sm",children:["Analysis for ",new Date(u?.start).toLocaleDateString()," —"," ",new Date(u?.end).toLocaleDateString()]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(F,{title:"Total Revenue",value:`$${o?.total}`,icon:e.jsx(bt,{}),subtitle:`${o?.purchases?.count} purchases`,trendValue:"+4.5%",trend:"up"}),e.jsx(F,{title:"Net Profit",value:`$${o?.net}`,icon:e.jsx(De,{}),subtitle:`${o?.renewals?.count} renewals`,trendValue:"+2.1%",trend:"up"}),e.jsx(F,{title:"Risk Users",value:r?.length||0,icon:e.jsx(vt,{}),subtitle:`${r?.length} risk users`,color:"text-amber-600"}),e.jsx(F,{title:"Refunds",value:`$${o?.refunds?.amount}`,icon:e.jsx(Ot,{}),subtitle:`${o?.refunds?.count} refunds`,color:"text-rose-600"})]}),e.jsxs(We,{defaultValue:"overview",className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(He,{className:"h-12 p-1 bg-slate-200/50 backdrop-blur-md rounded-2xl w-full max-w-max grid grid-cols-3",children:[e.jsxs(ee,{value:"overview",className:"rounded-xl px-5 py-2.5 flex items-center gap-2 data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-brand-aqua transition-all duration-300",children:[e.jsx(jt,{size:16}),e.jsx("span",{className:"font-semibold",children:"Overview"})]}),e.jsxs(ee,{value:"transactions",className:"rounded-lg py-2 flex items-center gap-2 data-[state=active]:bg-slate-100 data-[state=active]:shadow-sm data-[state=active]:text-brand-aqua transition-all",children:[e.jsx(yt,{size:16}),e.jsx("span",{className:"font-semibold",children:"Transactions"})]}),e.jsxs(ee,{value:"risk",className:"rounded-lg py-2 flex items-center gap-2 data-[state=active]:bg-slate-100 data-[state=active]:shadow-sm data-[state=active]:text-brand-aqua transition-all",children:[e.jsx(At,{size:16}),e.jsx("span",{className:"font-semibold",children:"Risk & Cancellation"})]})]})}),e.jsxs(te,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[e.jsx(K,{title:"Total Revenue",total:o?.total,color:"hsl(151 72% 46%)",startAngle:225}),e.jsx(K,{title:"Net Revenue",total:o?.net,color:"hsl(45 98% 54%)",startAngle:225}),e.jsx(K,{title:"Risk Users",total:0,color:"hsl(38, 92%, 60%)",startAngle:225}),e.jsx(K,{title:"Refunds",total:o?.refunds?.amount,color:"hsl(38, 92%, 60%)",startAngle:225})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(N,{className:"lg:col-span-2 border-none shadow-sm ring-1 ring-slate-200",children:[e.jsxs(w,{children:[e.jsx(S,{className:"text-lg",children:"Revenue Timeline"}),e.jsx(fe,{children:"Daily revenue fluctuations over the last 30 days"})]}),e.jsx(O,{className:"h-[350px]",children:e.jsx(Se,{data:l})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsxs(N,{className:"border-none shadow-sm ring-1 ring-slate-200",children:[e.jsx(w,{className:"pb-2",children:e.jsx(S,{className:"text-sm font-semibold",children:"By Platform"})}),e.jsx(O,{className:"h-[210px]",children:e.jsx(qt,{data:d})})]}),e.jsxs(N,{className:"border-none shadow-sm ring-1 ring-slate-200 bg-white",children:[e.jsxs(w,{className:"pb-0 flex flex-row items-center justify-between",children:[e.jsx("div",{className:"space-y-1",children:e.jsx(S,{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"By Plan Type"})}),e.jsx("div",{className:"h-2 w-2 rounded-full bg-brand-aqua animate-pulse"})]}),e.jsx(O,{className:"w-full h-[180px] pt-4",children:e.jsx(Wt,{data:p})})]})]})]})]}),e.jsx(te,{value:"transactions",children:e.jsxs(N,{className:"border-none shadow-sm ring-1 ring-slate-200",children:[e.jsxs(w,{children:[e.jsx(S,{children:"Recent Transactions"}),e.jsx(fe,{children:"Comprehensive list of all subscription events"})]}),e.jsx(O,{children:e.jsx(Ht,{data:n})})]})}),e.jsx(te,{value:"risk",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(N,{className:"min-h-[400px]",children:[e.jsx(w,{children:e.jsx(S,{children:"Cancellation Trends"})}),e.jsx(O,{children:s?.total===0?e.jsx(q,{title:"Clean Slate",description:"No subscription cancellations recorded in this billing cycle."}):e.jsx(Se,{data:s.daily,color:"#f43f5e"})})]}),e.jsxs(N,{className:"min-h-[400px]",children:[e.jsx(w,{children:e.jsx(S,{children:"At-Risk Users"})}),e.jsx(O,{children:r.length===0?e.jsx(q,{title:"All Clear",description:"None of your users are currently flagged as high-risk for churn."}):e.jsx("div",{className:"space-y-4"})})]})]})})]})]})}function F({title:t,value:a,icon:r,trend:s="neutral",trendValue:n,subtitle:i,color:o="text-slate-900"}){return e.jsxs(N,{className:"border-none shadow-sm ring-1 ring-slate-200 overflow-hidden relative gap-2",children:[e.jsxs(w,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[e.jsx(S,{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:t}),e.jsx("div",{className:"h-8 w-8 rounded-lg bg-slate-100 flex items-center justify-center text-slate-600",children:r})]}),e.jsxs(O,{children:[e.jsx("div",{className:`text-3xl font-bold ${o}`,children:a||0}),i&&e.jsx("p",{className:"text-sm text-muted-foreground",children:i}),n&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-3",children:[s==="up"&&e.jsx(De,{className:"w-4 h-4 text-alerts-success"}),s==="down"&&e.jsx(Tt,{className:"w-4 h-4 text-alerts-error"}),e.jsxs("span",{className:`text-sm font-medium ${s==="up"?"text-alerts-success":s==="down"?"text-alerts-error":"text-muted-foreground"}`,children:[n," ",e.jsx("span",{className:"text-slate-400 ml-1 font-normal text-[10px]",children:"vs last month"})]})]})]})]})}export{ia as default};
