import{i as b,s as v,A as N,r as C,j as e,M as y,H as n,aP as L,E as d,a as F,a_ as k,a$ as S,N as m}from"./index-Cah9GgNi.js";import{F as H,a as t,b as x,c as E}from"./field-BZhR-Oub.js";import{a as M}from"./index.esm-CrVoclJi.js";import{a as I,l as P}from"./auth.schemas-D2OQRjoj.js";import{L as B,E as z}from"./lock-O3GpQ5RB.js";import{E as A}from"./eye-Ud1Tzidn.js";import{L as D}from"./loader-circle-D_OERo1u.js";import"./label-DJ1n1SI_.js";import"./index-657d2hlm.js";const G="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0px'%20y='0px'%20width='100'%20height='100'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%3e%3c/path%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%3e%3c/path%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%3e%3c/path%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%3e%3c/path%3e%3c/svg%3e",$="data:image/svg+xml,%3csvg%20width='99'%20height='55'%20viewBox='0%200%2099%2055'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M97.8916%2042.7121L63.6536%2054.6044C62.2852%2055.0825%2061.0649%2053.587%2061.8075%2052.3411L65.7493%2045.6878H4.67492C1.05298%2045.6878%20-1.18518%2041.7457%200.661416%2038.6327L22.5335%201.81591C23.2049%200.691777%2024.416%200%2025.728%200H81.9504C83.7611%200%2084.8799%201.96851%2083.9594%203.52501L70.0677%2026.9081C69.2287%2028.3272%2067.6973%2029.1919%2066.0496%2029.1919H53.8774C52.6617%2029.1919%2051.9139%2027.8593%2052.55%2026.8216L64.4014%207.50783C65.3731%205.9259%2064.2338%203.90142%2062.3872%203.90142C61.97%203.90142%2061.5682%204.00824%2061.2171%204.2117C60.866%204.41007%2060.5611%204.70001%2060.3525%205.06116L47.1629%2026.9335C46.3188%2028.3374%2044.8028%2029.1971%2043.1648%2029.1971H31.522C30.3109%2029.1971%2029.5631%2027.8745%2030.1889%2026.8369L41.8676%207.48236C42.804%205.90043%2041.6641%203.9065%2039.8283%203.9065H39.6858C38.8515%203.9065%2038.0786%204.34395%2037.6511%205.06625L21.3486%2032.4982C20.733%2033.5359%2021.4808%2034.8482%2022.6862%2034.8482H72.1736L75.2462%2029.6599C75.6833%2028.9223%2076.6397%2028.6782%2077.3772%2029.1157L98.0239%2041.3133C98.5933%2041.6541%2098.5123%2042.4985%2097.8814%2042.7172L97.8916%2042.7121Z'%20fill='%232FBFC9'/%3e%3c/svg%3e";function O({className:h,...g}){const p=b(),o=v(),{loading:i,error:V}=N(l=>l.auth),[r,u]=C.useState(!1),{register:c,handleSubmit:f,resetField:w,formState:{errors:s}}=M({resolver:I(P),defaultValues:{status:"active",role:"user"}}),j=async l=>{try{const a=await p(k(l)).unwrap();a?.role===S.ADMIN?(o(a.screen||"/admin/dashboard",{replace:!0}),m.success(a.message||"Login successful",{description:`Welcome back, ${a.nickname}!`})):o("/",{replace:!0})}catch(a){w("password"),m.error(a||"Server error while login")}};return e.jsx("form",{onSubmit:f(j),className:F("flex flex-col gap-6",h),...g,children:e.jsxs(H,{children:[e.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-2xl",children:e.jsx("img",{src:$,alt:"Google",className:"h-full w-full"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),e.jsx("p",{className:"text-muted-foreground mt-2 text-balance",children:"Login to manage the MAFS ecosystem"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs(t,{children:[e.jsx(x,{htmlFor:"email",className:"text-base",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-2 top-1/2 -translate-y-[45%] w-5 h-5 text-gray-400"}),e.jsx(n,{id:"email",type:"email",...c("email"),placeholder:"mafs@example.com",className:`w-full px-9 py-5 bg-gray-50 border outline-none transition-all ${s.email?"border-red-500 focus:ring-red-100":"border-gray-200 focus:border-pink-500 focus:ring-4 focus:ring-pink-50"}`}),s.email&&e.jsx("p",{className:"text-xs text-red-500 -mt-1 ml-1",children:s.email.message})]})]}),e.jsxs(t,{children:[e.jsx("div",{className:"flex items-center",children:e.jsx(x,{htmlFor:"password",title:"Password",className:"text-base",children:"Password"})}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-2 top-1/2 -translate-y-[45%] w-5 h-5 text-gray-400"}),e.jsx(n,{id:"password",type:r?"text":"password",...c("password"),placeholder:"••••••••",className:`w-full px-9 py-5 pr-12 bg-gray-50 border !outline-none transition-all ${s.password?"border-red-500 focus:ring-red-100":"border-gray-200 focus:border-pink-500 focus:ring-4 focus:ring-pink-50"}`}),e.jsx("button",{type:"button",onClick:()=>u(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:"-1",children:r?e.jsx(z,{className:"h-5 w-5"}):e.jsx(A,{className:"h-5 w-5"})})]}),e.jsx(L,{to:"/auth/forgot-password",className:"text-right text-sm hover:text-blue-700 underline-offset-4 hover:underline",children:"Forgot your password?"}),s.password&&e.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:s.password.message})]})]}),e.jsx(t,{children:e.jsx(d,{type:"submit",disabled:i,className:"py-5",children:i?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-5 h-5 animate-spin"})," Logged in..."]}):"Log In"})}),e.jsx(E,{children:"Or continue with"}),e.jsx(t,{children:e.jsxs(d,{variant:"outline",type:"button",children:[e.jsx("img",{src:G,alt:"Google",className:"h-6 w-6"}),"Login with Google"]})})]})})}function U(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-muted relative hidden lg:block",children:e.jsx("img",{src:"/placeholder.svg",alt:"Image",className:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-full max-w-lg border rounded-xl shadow-xl p-6 md:p-10",children:e.jsx(O,{})})})]})}export{U as default};
