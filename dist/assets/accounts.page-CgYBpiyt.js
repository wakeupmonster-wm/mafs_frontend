import{D as p,i as L,r as l,j as e,Q as A,T as P,U as S,H as T,E as M,N as u,cI as R,A as _,cJ as B,B as h,J as j,C as N,m as v,n as y,p as k,M as w,P as C,S as q,ar as H,ah as V}from"./index-Cah9GgNi.js";import{D as $,a as J,b as O,c as z,d as G,e as Y}from"./dialog-CgcypPnB.js";import{L as D}from"./label-DJ1n1SI_.js";import{T as Q}from"./textarea-BdgJi3SO.js";import{C as K}from"./camera-mL6fQ4Ex.js";import{L as X}from"./loader-circle-D_OERo1u.js";import{C as Z}from"./clock-BveIEetd.js";import{U as ee}from"./user-D1L96pnc.js";import{M as ae}from"./map-pin-DpP5UDxf.js";import{G as se}from"./globe-COnuhVpK.js";import"./index-657d2hlm.js";const te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],re=p("circle-user",te);const ie=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],le=p("hash",ie);const ne=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ce=p("pen-line",ne);function oe({children:n,currentData:a}){const c=L(),t=l.useRef(null),[m,s]=l.useState(!1),[o,g]=l.useState(!1),[W,E]=l.useState(null),[f,I]=l.useState(null),[i,b]=l.useState({nickname:a?.nickname||"",about:a?.about||""}),F=r=>{const d=r.target.files[0];d&&(I(d),E(URL.createObjectURL(d)))},U=async()=>{if(!i.nickname.trim())return u.error("Nickname is required");g(!0);const r=new FormData;r.append("nickname",i.nickname),r.append("about",i.about),f&&r.append("avatar",f);try{await c(R(r)).unwrap(),u.success("Profile updated successfully!"),s(!1)}catch(d){u.error(d?.message||"Failed to update profile")}finally{g(!1)}};return e.jsxs($,{open:m,onOpenChange:s,children:[e.jsx(J,{asChild:!0,children:n}),e.jsxs(O,{className:"sm:max-w-[425px] glass-card border-border/50",children:[e.jsx(z,{children:e.jsx(G,{className:"text-xl font-bold gradient-text inline-block",children:"Edit Admin Profile"})}),e.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>t.current?.click(),children:[e.jsxs(A,{className:"h-24 w-24 border-2 shadow-2xl group-hover:opacity-70 transition-opacity border-brand-aqua",children:[e.jsx(P,{src:W||a?.avatar?.url}),e.jsx(S,{className:"bg-secondary text-muted-foreground",children:e.jsx(re,{className:"w-10 h-10"})})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-background/40 rounded-full",children:e.jsx(K,{className:"text-foreground w-6 h-6"})}),e.jsx("input",{type:"file",ref:t,hidden:!0,accept:"image/*",onChange:F})]}),e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-wider",children:"Click photo to change"}),e.jsxs("div",{className:"w-full space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-xs font-bold uppercase text-muted-foreground tracking-wider",children:"Nickname"}),e.jsx(T,{value:i.nickname,onChange:r=>b({...i,nickname:r.target.value}),className:"border-brand-aqua/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-xs font-bold uppercase text-muted-foreground tracking-wider",children:"Bio"}),e.jsx(Q,{value:i.about,onChange:r=>b({...i,about:r.target.value}),rows:3,className:"border-brand-aqua/50"})]})]})]}),e.jsx(Y,{children:e.jsxs(M,{onClick:U,disabled:o,className:"w-full font-semibold bg-brand-aqua/20 hover:bg-brand-aqua/80 border border-brand-aqua text-slate-700",children:[o&&e.jsx(X,{className:"animate-spin mr-2 w-4 h-4"}),"Save Changes"]})})]})]})}function ve(){const n=L(),{account:a,loading:c}=_(s=>s.account);if(l.useEffect(()=>{n(B())},[n]),c)return e.jsx("div",{className:"flex h-96 items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-indigo-600 font-bold",children:"Loading Profile..."})});const t=s=>{if(!s)return"N/A";const o=new Date(s);return isNaN(o.getTime())?"Invalid Date":V(o,"MMMM dd, yyyy")},m=a?.nickname?.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2);return e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-1 lg:px-2 py-4 space-y-8",children:[e.jsx("div",{className:"glass-card glow-border p-8 animate-fade-in shadow-lg rounded-2xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-1 rounded-full bg-gradient-to-br from-brand-aqua/20 to-brand-aqua/10 blur-md"}),e.jsxs(A,{className:"relative h-32 w-32 border border-brand-aqua shadow-2xl",children:[e.jsx(P,{src:a?.avatar?.url,alt:a?.nickname}),e.jsx(S,{className:"bg-secondary text-primary text-3xl font-bold",children:m})]}),e.jsx("div",{className:"absolute -bottom-1 right-2",children:e.jsx(h,{className:"bg-alerts-success text-success-foreground border border-background text-[10px] font-bold uppercase px-2",children:a?.status})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:a?.nickname}),e.jsx(h,{variant:"outline",className:"bg-alerts-success px-2 border border-background text-primary font-bold uppercase text-[10px] tracking-widest",children:a?.role})]}),e.jsx("p",{className:"text-muted-foreground max-w-lg leading-relaxed",children:a?.about||"No bio provided"}),e.jsxs("div",{className:"flex items-center gap-4 justify-center md:justify-start text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4 text-brand-aqua",strokeWidth:2.5}),"Joined ",t(a?.memberSince)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-4 h-4 text-brand-aqua",strokeWidth:2.5}),"Last login ",t(a?.lastLogin)]})]})]}),e.jsx(oe,{currentData:a,children:e.jsxs(M,{className:"bg-brand-aqua/20 hover:bg-brand-aqua/80 border border-brand-aqua text-slate-700 gap-2 font-semibold shadow-lg shadow-primary/20",children:[e.jsx(ce,{className:"w-4 h-4",strokeWidth:2.5}),"Edit Profile"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(N,{className:"glass-card glow-border animate-fade-in shadow-lg",style:{animationDelay:"0.1s"},children:[e.jsx(v,{children:e.jsxs(y,{className:"text-sm font-bold flex items-center gap-2 text-muted-foreground uppercase tracking-wider",children:[e.jsx(ee,{className:"w-5 h-5 text-brand-aqua",strokeWidth:2.5}),"Contact Details"]})}),e.jsxs(k,{className:"space-y-1",children:[e.jsx(x,{icon:e.jsx(w,{className:"w-4 h-4 text-brand-aqua",strokeWidth:2.5}),label:"Email Address",value:a?.email,verified:a?.verified?.email}),e.jsx(x,{icon:e.jsx(C,{className:"w-4 h-4 text-brand-aqua",strokeWidth:2.5}),label:"Phone Number",value:a?.phone,verified:a?.verified?.phone}),e.jsx(x,{icon:e.jsx(ae,{className:"w-4 h-4 text-brand-aqua",strokeWidth:2.5}),label:"Location",value:`${a?.location?.coordinates[0]}, ${a?.location?.coordinates[1]}`})]})]}),e.jsxs(N,{className:"glass-card glow-border animate-fade-in shadow-lg",style:{animationDelay:"0.2s"},children:[e.jsx(v,{children:e.jsxs(y,{className:"text-sm font-bold flex items-center gap-2 text-muted-foreground uppercase tracking-wider",children:[e.jsx(q,{className:"w-5 h-5 text-brand-aqua",strokeWidth:2.5}),"Account Metadata"]})}),e.jsxs(k,{className:"space-y-1",children:[e.jsx(x,{icon:e.jsx(j,{className:"w-4 h-4 text-brand-aqua",strokeWidth:2.5}),label:"Member Since",value:t(a?.memberSince)}),e.jsx(x,{icon:e.jsx(se,{className:"w-4 h-4 text-brand-aqua",strokeWidth:2.5}),label:"Last Login",value:t(a?.lastLogin)}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-secondary/50",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:e.jsx(le,{className:"w-4 h-4 text-brand-aqua",strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-muted-foreground tracking-wider",children:"Account ID"}),e.jsx("p",{className:"text-xs font-mono text-foreground/80 truncate",children:a?.id})]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 animate-fade-in",style:{animationDelay:"0.3s"},children:[{label:"Role",value:a?.role,icon:q},{label:"Status",value:a?.status,icon:H},{label:"Email Verified",value:a?.verified?.email?"Yes":"No",icon:w},{label:"Phone Verified",value:a?.verified?.phone?"Yes":"No",icon:C}].map(s=>e.jsxs("div",{className:"flex items-center justify-center gap-4 p-8 text-center shadow-lg",children:[e.jsx(s.icon,{className:"w-8 h-8 text-brand-aqua",strokeWidth:2.5}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-muted-foreground tracking-wider",children:s?.label}),e.jsx("p",{className:"text-sm font-bold text-foreground capitalize",children:s?.value})]})]},s?.label))})]})})}function x({icon:n,label:a,value:c,verified:t}){return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-secondary/40 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:n}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-muted-foreground tracking-wider",children:a}),e.jsx("p",{className:"text-sm font-semibold text-foreground",children:c||"N/A"})]})]}),t!==void 0&&e.jsx(h,{className:t?"bg-success/15 text-success border-success/30 hover:bg-success/20":"bg-muted text-muted-foreground border-border hover:bg-muted",variant:"outline",children:t?"Verified":"Pending"})]})}export{ve as default};
