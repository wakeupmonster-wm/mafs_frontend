import{c as m,s as j,i as f,A as N,r as i,b4 as b,j as e,E as r,C as y,p as v,b5 as F,N as d}from"./index-Cah9GgNi.js";import{C}from"./ConfirmModal-FgUfmtBl.js";import{I as w}from"./IconLoader-QBct0fFV.js";import{I as A}from"./IconTrash-DeA8_i9p.js";import"./triangle-alert-1qeuYxI_.js";const k=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],D=m("outline","pencil","Pencil",k);const Q=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],I=m("outline","plus","Plus",Q),T=()=>{const o=j(),a=f(),{items:n,loading:x}=N(s=>s.faqs),[h,c]=i.useState(!1),[t,l]=i.useState(null);i.useEffect(()=>{a(b())},[a]);const p=s=>{l(s),c(!0)},u=async()=>{if(t)try{const s=t._id||t.id;await a(F(s)).unwrap(),d.success("FAQ deleted successfully")}catch(s){d.error(s||"Failed to delete FAQ")}finally{l(null)}};return x&&n.length===0?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx(w,{className:"animate-spin text-primary",size:40})}):e.jsxs("div",{className:"p-6 flex flex-col gap-6 bg-[#F8FDFF] min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Platform FAQs"}),e.jsx("p",{className:"text-[#606060] font-medium text-sm",children:"Manage user questions and categories."})]}),e.jsxs(r,{onClick:()=>o("edit"),className:"gap-2",children:[e.jsx(I,{size:18})," Add FAQ"]})]}),e.jsx("div",{className:"grid gap-4",children:n.length>0?n.map((s,g)=>e.jsx(y,{className:"hover:shadow-md transition-shadow shadow-md",children:e.jsxs(v,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-primary bg-primary/5 px-2 py-0.5 rounded-md mb-1 inline-block",children:s.category}),e.jsxs("h4",{className:"font-bold text-slate-800",children:[e.jsxs("span",{children:[s.order,". "]}),s.question]}),e.jsx("p",{className:"text-base text-slate-800 leading-relaxed max-w-7xl",children:s.answer})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(r,{variant:"ghost",size:"icon",className:"hover:bg-blue-50 text-blue-600",onClick:()=>o(`edit/${s._id||s.id}`,{state:{faq:s}}),children:e.jsx(D,{size:20})}),e.jsx(r,{variant:"ghost",size:"icon",className:"hover:bg-red-50 text-red-600",onClick:()=>p(s),children:e.jsx(A,{size:20})})]})]})},g)):e.jsx("div",{className:"text-center py-24 bg-white rounded-3xl border border-dashed border-slate-400",children:e.jsx("p",{className:"text-slate-600 font-medium italic",children:"No FAQs found. Start by adding a new one."})})}),e.jsx(C,{isOpen:h,onClose:()=>{c(!1),l(null)},onConfirm:u,title:"Delete this FAQ?",message:`Are you sure you want to delete "${t?.question}"? This action cannot be undone.`,confirmText:"Yes, Delete",type:"danger"})]})};export{T as default};
